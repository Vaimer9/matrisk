#![feature(portable_simd)]

pub mod matrix;
pub mod vector;
pub mod operations;

#[cfg(test)]
mod tests {
    use matrix::Matrix;
    use operations::{RowOperation, Operation};

    use super::*;

    #[test]
    fn it_works() {
        let a = Matrix::new([
            [4., 8., 5., 4., 8., 5., 4., 8., 5., 4., 8., 5.,],
            [1., 9., 6., 1., 9., 6., 1., 9., 6., 1., 9., 6.,],
            [2., 3., 1., 2., 3., 1., 2., 3., 1., 2., 3., 1.,],
            [4., 8., 5., 4., 8., 5., 4., 8., 5., 4., 8., 5.,],
            [1., 9., 6., 1., 9., 6., 1., 9., 6., 1., 9., 6.,],
            [2., 3., 1., 2., 3., 1., 2., 3., 1., 2., 3., 1.,],
            [4., 8., 5., 4., 8., 5., 4., 8., 5., 4., 8., 5.,],
            [1., 9., 6., 1., 9., 6., 1., 9., 6., 1., 9., 6.,],
            [2., 3., 1., 2., 3., 1., 2., 3., 1., 2., 3., 1.,],
            [4., 8., 5., 4., 8., 5., 4., 8., 5., 4., 8., 5.,],
            [1., 9., 6., 1., 9., 6., 1., 9., 6., 1., 9., 6.,],
            [2., 3., 1., 2., 3., 1., 2., 3., 1., 2., 3., 1.,],
        ]);

        let op = RowOperation::<12>::new()
            .swap(1, 2)
            .build();

       println!("{:?}",  op * a);
    }
}
